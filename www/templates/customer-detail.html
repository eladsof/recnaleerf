<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'firend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->
<ion-view title="{{customer.name}}">
    <ion-content has-header="true" padding="true">
        <div class="list card">

            <div class="item item-avatar">
                <img src="mcfly.jpg">
                <h2>{{customer.name}}</h2>
                <p>created on: {{customer.createdAt | date:'medium'}}</p>
            </div>

            <div class="item item-body">
                <p>
                    Customer address: {{customer.address.formatted_address}}
                </p>
                <p>
                <h2>Hourly rate : {{customer.ratePerHour}}</h2>
                </p>
            </div>

            <div class="item item-body">
                <a  href="#/tab/customer/report/monthly/{{customer.id}}/{{year}}/{{month}}">
                    Current month work time: {{monthlyWorkHours}}
                </a>
            </div>
        </div>

        <div>
            <div class="card padding reportItemBox" ng-show="newWorkitem == null">
                <button class="button button-block button-dark" ng-click="prepareNewWorkItem()">Report work item</button>
            </div>
        </div>

        <div class="card padding zoomInUp animated" ng-show="newWorkitem" >
            <h2>Report work item for {{customer.name}}</h2>
            <form>
                <label class="item item-input ">
                    <span class="input-label">Start:</span>
                    <input type="datetime-local"  ng-model="newWorkitem.start">
                </label>

                <label class="item item-input ">
                    <span class="input-label">Finish:</span>
                    <input type="datetime-local"  ng-model="newWorkitem.finish">
                </label>

                <label class="item item-input ">
                    <span class="input-label">Rate:</span>
                    <input type="text"             ng-model="newWorkitem.rate">
                </label>

                <label class="item item-input ">
                    <span class="input-label">Comment:</span>
                    <input type="text"           ng-model="newWorkitem.comment"><br/>
                </label>

                <button class="button button-block button-dark" ng-click="createWorkItem(newWorkitem)">Create this work item</button>
            </form>
        </div>
    </ion-content>
</ion-view>
