<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'firend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->
<ion-view title="{{customer.name}}">
    <ion-nav-buttons side="right">
        <button class="button" ng-click="editCustomer()">
            {{'EDIT' | translate}}
        </button>
    </ion-nav-buttons>
    <ion-content has-header="true" padding="true">
        <div class="list card">

            <div class="item item-avatar">
                <img src="mcfly.jpg">
                <h2>{{customer.name}}</h2>
                <p>{{'CREATED_ON' | translate}} : {{customer.createdAt | date:'medium'}}</p>
            </div>

            <div class="item item-body">
                <p>
                    {{'CUSTOMER_ADDRESS' | translate}} : {{customer.address.formatted_address}}
                </p>
                <p>
                <h2>{{'HOURLY_RATE' | translate}} : {{customer.ratePerHour}}</h2>
                </p>
            </div>

            <div class="item item-body">
                <a  href="#/tab/customer/report/monthly/{{customer.id}}/{{year}}/{{month}}">
                    {{'CURRENT_MONTH_WORK' | translate}}: {{monthlyWorkHours}}
                </a>
            </div>
        </div>

        <div>
            <div class="card padding reportItemBox" ng-show="newWorkitem == null">
                <button class="button button-block button-dark" ng-click="prepareNewWorkItem()">{{'REPORT_WORK_ITEM' | translate}}</button>
            </div>
        </div>

        <div class="card padding zoomInUp animated" ng-show="newWorkitem" >
            <h2>{{'REPORT_WORK_ITEM_FOR' | translate}} : {{customer.name}}</h2>
            <form>
                <div class="item">
                    <span class="input-label">{{'START_TIME' | translate}}:</span>
                    <input type="datetime-local"  ng-model="newWorkitem.start">
                </div>

                <div class="item">
                    <span class="input-label">{{'FINISH_TIME' | translate}}</span>
                    <input type="datetime-local"  ng-model="newWorkitem.finish">
                </div>

                <div class="item">
                    <label><span class="input-label">{{'HOURLY_RATE' | translate}}</span>
                    <input type="text"             ng-model="newWorkitem.rate">
                </div>

                <div class="item">
                    <span class="input-label">{{'COMMENT' | translate}}:</span>
                    <input type="text"           ng-model="newWorkitem.comment"><br/>
                </div>
                <div style="clear: both"></div>

                <button class="button button-block button-dark" ng-click="createWorkItem(newWorkitem)">{{'CREATE_WORK_ITEM' | translate}}</button>
            </form>
        </div>
    </ion-content>
</ion-view>
